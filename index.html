<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #ff6b6b, #ffa726);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #ff6b6b;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #ff6b6b;
        }

        button {
            background: linear-gradient(45deg, #ff6b6b, #ffa726);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .souvenir-select {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .souvenir-item {
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            padding: 15px;
            background: white;
            transition: all 0.3s ease;
        }

        .souvenir-item:hover {
            border-color: #ff6b6b;
            transform: translateY(-2px);
        }

        .souvenir-info {
            text-align: center;
            margin-bottom: 10px;
        }

        .souvenir-image {
            width: 50px;
            height: 50px;
            background: #f0f0f0;
            border-radius: 8px;
            margin: 0 auto 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .souvenir-name {
            font-weight: 600;
            color: #333;
            font-size: 13px;
        }

        .quantity-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 6px;
            text-align: center;
            font-size: 14px;
        }

        .quantity-input:focus {
            border-color: #ff6b6b;
            outline: none;
        }

        .expense-list {
            grid-column: span 2;
        }

        .expense-item {
            background: white;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .expense-item:hover {
            border-color: #ff6b6b;
            box-shadow: 0 3px 10px rgba(255, 107, 107, 0.1);
        }

        .expense-info {
            flex-grow: 1;
        }

        .expense-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .expense-details {
            color: #666;
            font-size: 14px;
        }

        .expense-quantity {
            font-size: 18px;
            font-weight: 700;
            color: #ff6b6b;
        }

        .delete-btn {
            background: #dc3545;
            padding: 8px 15px;
            font-size: 14px;
            margin-left: 15px;
        }

        .delete-btn:hover {
            background: #c82333;
        }

        .summary {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
        }

        .summary h4 {
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-quantity {
            font-weight: 700;
            font-size: 1.1em;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .expense-list {
                grid-column: span 1;
            }

            .souvenir-select {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÅ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å</h1>
            <p>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</p>
        </div>

        <div class="main-content">
            <div class="card">
                <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å</h3>
                <form id="expenseForm">
                    <div class="form-group">
                        <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</label>
                        <div class="souvenir-select">
                            <div class="souvenir-item">
                                <div class="souvenir-info">
                                    <div class="souvenir-image">üõçÔ∏è</div>
                                    <div class="souvenir-name">‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©</div>
                                </div>
                                <input type="number" id="quantity_bag" min="0" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" class="quantity-input">
                            </div>
                            <div class="souvenir-item">
                                <div class="souvenir-info">
                                    <div class="souvenir-image">ü•§</div>
                                    <div class="souvenir-name">‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô</div>
                                </div>
                                <input type="number" id="quantity_cup" min="0" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" class="quantity-input">
                            </div>
                            <div class="souvenir-item">
                                <div class="souvenir-info">
                                    <div class="souvenir-image">üß¢</div>
                                    <div class="souvenir-name">‡∏´‡∏°‡∏ß‡∏Å</div>
                                </div>
                                <input type="number" id="quantity_hat" min="0" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" class="quantity-input">
                            </div>
                            <div class="souvenir-item">
                                <div class="souvenir-info">
                                    <div class="souvenir-image">üìù</div>
                                    <div class="souvenir-name">‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å</div>
                                </div>
                                <input type="number" id="quantity_notebook" min="0" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" class="quantity-input">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="department">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô:</label>
                        <select id="department" required>
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</option>
                            <option value="‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
                            <option value="‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏™‡∏î‡∏∏">‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏™‡∏î‡∏∏</option>
                            <option value="‡∏á‡∏≤‡∏ô‡∏¢‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£">‡∏á‡∏≤‡∏ô‡∏¢‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£</option>
                            <option value="‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤">‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</option>
                            <option value="‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏ó‡∏®‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå">‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏ó‡∏®‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ö‡∏£‡∏£‡∏ì‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ö‡∏£‡∏£‡∏ì‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏õ‡∏£‡∏±‡∏ä‡∏ç‡∏≤‡πÅ‡∏•‡∏∞‡∏®‡∏≤‡∏™‡∏ô‡∏≤">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏õ‡∏£‡∏±‡∏ä‡∏ç‡∏≤‡πÅ‡∏•‡∏∞‡∏®‡∏≤‡∏™‡∏ô‡∏≤</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</option>
                            <option value="‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå">‡∏†‡∏≤‡∏Ñ‡∏ß‡∏¥‡∏ä‡∏≤‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå</option>
                            <option value="‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô</option>
                            <option value="HAS Center">HAS Center</option>
                            <option value="‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡∏≤‡∏†‡∏¥‡∏ß‡∏±‡∏í‡∏ô‡πå">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡∏≤‡∏†‡∏¥‡∏ß‡∏±‡∏í‡∏ô‡πå</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="quantity">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏ß‡∏° (‡∏ä‡∏¥‡πâ‡∏ô):</label>
                        <input type="number" id="totalQuantity" readonly style="background: #f8f9fa; color: #666;">
                    </div>
                    
                    <div class="form-group">
                        <label for="date">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏¥‡∏Å:</label>
                        <input type="date" id="date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</label>
                        <textarea id="notes" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"></textarea>
                    </div>
                    
                    <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å</button>
                </form>
            </div>

            <div class="card">
                <h3>‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h3>
                
                <!-- ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ -->
                <div style="background: linear-gradient(45deg, #17a2b8, #20c997); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4>üì¶ ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</h4>
                    <div id="stockSummary">
                        <div class="summary-item">
                            <span>üõçÔ∏è ‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©</span>
                            <span class="summary-quantity">150 ‡∏ä‡∏¥‡πâ‡∏ô</span>
                        </div>
                        <div class="summary-item">
                            <span>ü•§ ‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô</span>
                            <span class="summary-quantity">100 ‡∏ä‡∏¥‡πâ‡∏ô</span>
                        </div>
                        <div class="summary-item">
                            <span>üß¢ ‡∏´‡∏°‡∏ß‡∏Å</span>
                            <span class="summary-quantity">40 ‡∏ä‡∏¥‡πâ‡∏ô</span>
                        </div>
                        <div class="summary-item">
                            <span>üìù ‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å</span>
                            <span class="summary-quantity">30 ‡∏ä‡∏¥‡πâ‡∏ô</span>
                        </div>
                    </div>
                </div>

                <div class="summary">
                    <h4>üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å</h4>
                    <div id="itemSummary">
                        <p style="color: rgba(255,255,255,0.8); padding: 20px;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                    </div>
                </div>
                
                <div style="margin-top: 20px;">
                    <h4>‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô:</h4>
                    <div id="departmentSummary">
                        <p style="text-align: center; color: #666; padding: 20px;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                    </div>
                </div>
            </div>

            <div class="card expense-list">
                <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å</h3>
                <div id="expenseList">
                    <p style="text-align: center; color: #666; padding: 20px;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏¢!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let expenses = [];
        let nextId = 1;

        // ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å
        let inventory = {
            '‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©': { stock: 150, used: 0 },
            '‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô': { stock: 100, used: 0 },
            '‡∏´‡∏°‡∏ß‡∏Å': { stock: 40, used: 0 },
            '‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å': { stock: 30, used: 0 }
        };

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏ï‡πá‡∏≠‡∏Å
        function updateStockDisplay() {
            const stockItems = [
                { id: 'quantity_bag', item: '‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©' },
                { id: 'quantity_cup', item: '‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô' },
                { id: 'quantity_hat', item: '‡∏´‡∏°‡∏ß‡∏Å' },
                { id: 'quantity_notebook', item: '‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å' }
            ];

            stockItems.forEach(({ id, item }) => {
                const input = document.getElementById(id);
                const remaining = inventory[item].stock - inventory[item].used;
                input.setAttribute('max', remaining);
                input.setAttribute('placeholder', `‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${remaining.toLocaleString()}`);
                
                // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏ñ‡πâ‡∏≤‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
                const parent = input.closest('.souvenir-item');
                if (remaining <= 50) {
                    parent.style.borderColor = '#dc3545';
                    parent.style.background = '#fff5f5';
                } else if (remaining <= 100) {
                    parent.style.borderColor = '#ffc107';
                    parent.style.background = '#fffdf5';
                } else {
                    parent.style.borderColor = '#e1e5e9';
                    parent.style.background = 'white';
                }
            });
        }

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏ß‡∏°
        function updateTotalQuantity() {
            const bag = parseInt(document.getElementById('quantity_bag').value) || 0;
            const cup = parseInt(document.getElementById('quantity_cup').value) || 0;
            const hat = parseInt(document.getElementById('quantity_hat').value) || 0;
            const notebook = parseInt(document.getElementById('quantity_notebook').value) || 0;
            
            const total = bag + cup + hat + notebook;
            document.getElementById('totalQuantity').value = total;

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠
            const stockWarnings = [];
            if (bag > (inventory['‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©'].stock - inventory['‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©'].used)) {
                stockWarnings.push('‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©');
            }
            if (cup > (inventory['‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô'].stock - inventory['‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô'].used)) {
                stockWarnings.push('‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô');
            }
            if (hat > (inventory['‡∏´‡∏°‡∏ß‡∏Å'].stock - inventory['‡∏´‡∏°‡∏ß‡∏Å'].used)) {
                stockWarnings.push('‡∏´‡∏°‡∏ß‡∏Å');
            }
            if (notebook > (inventory['‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å'].stock - inventory['‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å'].used)) {
                stockWarnings.push('‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å');
            }

            const totalField = document.getElementById('totalQuantity');
            if (stockWarnings.length > 0) {
                totalField.style.borderColor = '#dc3545';
                totalField.style.background = '#fff5f5';
                totalField.title = `‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠: ${stockWarnings.join(', ')}`;
            } else {
                totalField.style.borderColor = '#28a745';
                totalField.style.background = '#f8fff8';
                totalField.title = '';
            }
        }

        // Event listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö quantity inputs
        document.querySelectorAll('.quantity-input').forEach(input => {
            input.addEventListener('input', updateTotalQuantity);
        });

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ï‡πá‡∏≠‡∏Å
        updateStockDisplay();

        function addExpense(expense) {
            // ‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å
            expense.items.forEach(item => {
                inventory[item.name].used += item.quantity;  
            });
            
            expenses.push(expense);
            displayExpenses();
            updateSummary();
            updateStockDisplay();
        }

        function deleteExpense(id) {
            const expense = expenses.find(e => e.id === id);
            if (expense) {
                // ‡∏Ñ‡∏∑‡∏ô‡∏™‡∏ï‡πá‡∏≠‡∏Å
                expense.items.forEach(item => {
                    inventory[item.name].used -= item.quantity;
                });
            }
            
            expenses = expenses.filter(expense => expense.id !== id);
            displayExpenses();
            updateSummary();
            updateStockDisplay();
        }

        function displayExpenses() {
            const expenseList = document.getElementById('expenseList');
            
            if (expenses.length === 0) {
                expenseList.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏¢!</p>';
                return;
            }

            const sortedExpenses = expenses.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            expenseList.innerHTML = sortedExpenses.map(expense => `
                <div class="expense-item">
                    <div class="expense-info">
                        <div class="expense-name">üìù ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å - ${expense.department}</div>
                        <div class="expense-details">
                            üìÖ ${formatDate(expense.date)}
                            ${expense.notes ? ` | üìù ${expense.notes}` : ''}
                            <br>
                            <div style="margin-top: 5px;">
                                ${expense.items.map(item => 
                                    `${getItemIcon(item.name)} ${item.name}: ${item.quantity} ‡∏ä‡∏¥‡πâ‡∏ô`
                                ).join(' | ')}
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <div class="expense-quantity">${expense.totalQuantity.toLocaleString()} ‡∏ä‡∏¥‡πâ‡∏ô</div>
                        <button class="delete-btn" onclick="deleteExpense(${expense.id})">‡∏•‡∏ö</button>
                    </div>
                </div>
            `).join('');
        }

        function getItemIcon(itemName) {
            const icons = {
                '‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©': 'üõçÔ∏è',
                '‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô': 'ü•§',
                '‡∏´‡∏°‡∏ß‡∏Å': 'üß¢',
                '‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å': 'üìù'
            };
            return icons[itemName] || 'üéÅ';
        }

        function updateSummary() {
            // ‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å
            const itemTotals = {};
            expenses.forEach(expense => {
                expense.items.forEach(item => {
                    if (itemTotals[item.name]) {
                        itemTotals[item.name] += item.quantity;
                    } else {
                        itemTotals[item.name] = item.quantity;
                    }
                });
            });
            
            const itemSummary = document.getElementById('itemSummary');
            if (Object.keys(itemTotals).length === 0) {
                itemSummary.innerHTML = '<p style="color: rgba(255,255,255,0.8); padding: 20px;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>';
            } else {
                itemSummary.innerHTML = Object.entries(itemTotals)
                    .map(([item, quantity]) => `
                        <div class="summary-item">
                            <span>${getItemIcon(item)} ${item}</span>
                            <span class="summary-quantity">${quantity.toLocaleString()} ‡∏ä‡∏¥‡πâ‡∏ô</span>
                        </div>
                    `).join('');
            }
            
            // ‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô
            const departmentTotals = {};
            expenses.forEach(expense => {
                if (departmentTotals[expense.department]) {
                    departmentTotals[expense.department] += expense.totalQuantity;
                } else {
                    departmentTotals[expense.department] = expense.totalQuantity;
                }
            });
            
            const departmentSummary = document.getElementById('departmentSummary');
            if (Object.keys(departmentTotals).length === 0) {
                departmentSummary.innerHTML = '<p style="color: #666; text-align: center;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>';
            } else {
                departmentSummary.innerHTML = Object.entries(departmentTotals)
                    .sort(([,a], [,b]) => b - a) // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢
                    .map(([department, quantity]) => `
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #eee;">
                            <span style="font-size: 13px;">${department}</span>
                            <span style="font-weight: 600; color: #ff6b6b;">${quantity.toLocaleString()} ‡∏ä‡∏¥‡πâ‡∏ô</span>
                        </div>
                    `).join('');
            }
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('th-TH');
        }

        // Event listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°
        document.getElementById('expenseForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
            const items = [];
            let totalQuantity = 0;
            
            const bagQty = parseInt(document.getElementById('quantity_bag').value) || 0;
            const cupQty = parseInt(document.getElementById('quantity_cup').value) || 0;
            const hatQty = parseInt(document.getElementById('quantity_hat').value) || 0;
            const notebookQty = parseInt(document.getElementById('quantity_notebook').value) || 0;
            
            if (bagQty > 0) {
                items.push({ name: '‡∏ñ‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©', quantity: bagQty });
                totalQuantity += bagQty;
            }
            if (cupQty > 0) {
                items.push({ name: '‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô', quantity: cupQty });
                totalQuantity += cupQty;
            }
            if (hatQty > 0) {
                items.push({ name: '‡∏´‡∏°‡∏ß‡∏Å', quantity: hatQty });
                totalQuantity += hatQty;
            }
            if (notebookQty > 0) {
                items.push({ name: '‡∏™‡∏°‡∏∏‡∏î‡∏â‡∏µ‡∏Å', quantity: notebookQty });
                totalQuantity += notebookQty;
            }
            
            if (items.length === 0) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£');
                return;
            }

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
            const stockErrors = [];
            items.forEach(item => {
                const remaining = inventory[item.name].stock - inventory[item.name].used;
                if (item.quantity > remaining) {
                    stockErrors.push(`${item.name} (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ${item.quantity} ‡πÅ‡∏ï‡πà‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${remaining})`);
                }
            });
            
            if (stockErrors.length > 0) {
                alert(`‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠:\n${stockErrors.join('\n')}`);
                return;
            }
            
            const expense = {
                id: nextId++,
                items: items,
                totalQuantity: totalQuantity,
                department: document.getElementById('department').value,
                date: document.getElementById('date').value,
                notes: document.getElementById('notes').value
            };
            
            addExpense(expense);
            
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°
            this.reset();
            updateTotalQuantity();
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
            submitBtn.style.background = '#28a745';
            
            setTimeout(() => {
                submitBtn.textContent = originalText;
                submitBtn.style.background = 'linear-gradient(45deg, #ff6b6b, #ffa726)';
            }, 2000);
        });

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
        document.getElementById('date').valueAsDate = new Date();
    </script>
</body>
      <div class="container">
    <div class="header">
      <div class="header-content">
        <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å</h1>
        <p>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</p>
      </div>
      <div class="user-info" id="user-info">
        <span class="user-role" id="user-role">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô</span><br>
        <button onclick="logout()" class="btn-logout" style="display:none;" id="btn-logout">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>
    </div>

    <!-- Login Section -->
    <div id="login-section" class="login-section">
      <div class="login-form">
        <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
        <div class="form-group">
          <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</label>
          <select id="role-select">
            <option value="admin">‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</option>
            <option value="officer">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</option>
          </select>
        </div>
        <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="main-content" style="display:none;">
      <!-- ‡∏ù‡∏±‡πà‡∏á‡∏ã‡πâ‡∏≤‡∏¢: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
      <div>
        <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å</h3>
        <div id="souvenir-list" class="souvenir-select">
          <!-- dynamic JS -->
        </div>
      </div>
      <!-- ‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏ß‡∏≤: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å & ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ -->
      <div>
        <h3>‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ç‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å</h3>
        <form id="requisition-form" onsubmit="submitRequisition(event)">
          <div id="form-items"></div>
          <button type="submit">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å</button>
        </form>
        <div class="summary" id="summary-section" style="display:none;">
          <h4>‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å</h4>
          <div id="summary-list"></div>
        </div>
      </div>
      <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å -->
      <div class="expense-list" style="grid-column: span 2;">
        <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å (‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò)</h3>
        <div id="expense-list"></div>
      </div>
    </div>
  </div>

<script>
const souvenirs = [
  {id:1, name:'‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥', stock:10, img:""},
  {id:2, name:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î', stock:5, img:""},
  {id:3, name:'‡∏´‡∏°‡∏ß‡∏Å', stock:15, img:""},
];

let requisitionItems = {};
let expenses = [];
let currentUser = {role:null};

function renderSouvenirs() {
  const list = document.getElementById('souvenir-list');
  list.innerHTML = '';
  souvenirs.forEach(item => {
    list.innerHTML += `
      <div class="souvenir-item" id="souvenir-item-${item.id}">
        <div class="souvenir-info">
          <div class="souvenir-image">
            <img id="preview-${item.id}" src="${item.img||'https://cdn-icons-png.flaticon.com/512/771/771218.png'}" alt="Img" />
          </div>
          <div class="image-upload" style="${currentUser.role==='admin' ? '' : 'display:none'}">
            <input type="file" accept="image/*" onchange="onUploadImage(event,${item.id})">
          </div>
          <div class="souvenir-name">${item.name}</div>
          <div class="stock-info">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span id="stock-${item.id}">${item.stock}</span></div>
        </div>
        <div class="stock-actions" style="${currentUser.role==='admin' ? '' : 'display:none' }">
          <button onclick="changeStock(${item.id}, -1)">-</button>
          <input type="number" id="stock-input-${item.id}" value="${item.stock}" readonly>
          <button onclick="changeStock(${item.id}, 1)">+</button>
        </div>
      </div>
    `;
  });
  renderFormItems();
}
function onUploadImage(e, id) {
  const file = e.target.files[0];
  const reader = new FileReader();
  reader.onload = function(ev) {
    souvenirs.find(sv=>sv.id===id).img = ev.target.result;
    document.getElementById(`preview-${id}`).src = ev.target.result;
  }
  if(file) reader.readAsDataURL(file);
}

function changeStock(id, delta){
  let item = souvenirs.find(sv=>sv.id===id);
  item.stock = Math.max(0, item.stock + delta);
  document.getElementById(`stock-${id}`).innerText = item.stock;
  document.getElementById(`stock-input-${id}`).value = item.stock;
}

function renderFormItems(){
  let html = '';
  souvenirs.forEach(item=>{
    html += `
      <div class="form-group">
        <label>${item.name} (${item.stock} ‡∏ä‡∏¥‡πâ‡∏ô)</label>
        <input type="number" min="0" max="${item.stock}" id="rq-${item.id}" name="rq-${item.id}" class="quantity-input" value="0" ${item.stock===0?'disabled':''}>
      </div>
    `;
  });
  document.getElementById('form-items').innerHTML = html;
}

function submitRequisition(e){
  e.preventDefault();
  let req = [];
  souvenirs.forEach(item=>{
    let qty = parseInt(document.getElementById(`rq-${item.id}`).value) || 0;
    if(qty>0){
      req.push({id:item.id, name:item.name, qty, status:"pending"});
    }
  });
  if(req.length === 0){
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ä‡∏¥‡πâ‡∏ô");
    return;
  }
  let expId = Date.now();
  expenses.push({id:expId, items:req, status:'pending', owner: currentUser.role});
  renderExpenses();
  // ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
  document.getElementById('summary-section').style.display = '';
  let summaryHTML = req.map(i=>`<div class="summary-item"><span>${i.name}</span><span class="summary-quantity">${i.qty}</span></div>`).join('');
  document.getElementById('summary-list').innerHTML = summaryHTML;
}

function renderExpenses(){
  const el = document.getElementById('expense-list');
  el.innerHTML = '';
  if(expenses.length===0){
    el.innerHTML = '<div style="color:#aaa;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>';
    return;
  }
  expenses.forEach(exp=>{
    let btnHTML = '';
    if(currentUser.role === 'admin' && exp.status==='pending'){
      btnHTML = `
        <button class="btn-approve" onclick="approveExpense(${exp.id})">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</button>
        <button class="btn-reject" onclick="rejectExpense(${exp.id})">‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò</button>
      `;
    }
    el.innerHTML += `
      <div class="expense-item">
        <div class="expense-header">
          <div class="expense-info">
            <div class="expense-name">#${exp.id} ‚Ä¢ ‡πÇ‡∏î‡∏¢: ${exp.owner}</div>
            <div class="expense-details">${exp.items.map(i=>`${i.name} (${i.qty} ‡∏ä‡∏¥‡πâ‡∏ô)`).join(', ')}</div>
          </div>
          <span class="expense-status status-${exp.status}">
            ${exp.status==='pending'?'‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥':exp.status==='approved'?'‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß':'‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò'}
          </span>
        </div>
        <div class="expense-actions">${btnHTML}</div>
      </div>
    `;
  });
}

function approveExpense(expId){
  let exp = expenses.find(e=>e.id===expId);
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö stock
  let ok = exp.items.every(i=>{
    let item = souvenirs.find(sv=>sv.id===i.id);
    return item.stock >= i.qty;
  });
  if(!ok){
    alert("‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà");
    return;
  }
  exp.items.forEach(i=>{
    let item = souvenirs.find(sv=>sv.id===i.id);
    item.stock -= i.qty;
  });
  exp.status = 'approved';
  renderSouvenirs();
  renderExpenses();
}

function rejectExpense(expId){
  let exp = expenses.find(e=>e.id===expId);
  exp.status = 'rejected';
  renderExpenses();
}

// Login/Logout
function login(){
  const select = document.getElementById('role-select');
  currentUser.role = select.value;
  document.getElementById('login-section').style.display = 'none';
  document.getElementById('main-content').style.display = '';
  document.getElementById('user-role').innerText = currentUser.role==='admin'? '‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô' : '‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà';
  document.getElementById('btn-logout').style.display = '';
  renderSouvenirs();
  renderExpenses();
}
function logout(){
  currentUser = {role:null};
  document.getElementById('login-section').style.display = '';
  document.getElementById('main-content').style.display = 'none';
  document.getElementById('user-role').innerText = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô';
  document.getElementById('btn-logout').style.display = 'none';
}
</script>
    </body>
</html>
